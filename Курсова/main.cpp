#include "carshowroom.h"

using namespace std;

int main()
{
	int numb, page, nx=1;
	AVTO a, b;
	setlocale(LC_ALL, "Rus");
	cout << "????? ?????????? ? ???????? '?????????' " << endl;
	cout << "??????? ??? ?????? 4-? ??????? ID ????????????? ??? ????? ? ????.... " << endl;
	//?????? ???????????? ?????????????
	while (nx)
	{
		int st;
		lx:
		cin >> st;
		if (st == 1234)
		{
			AVTO initial("??????", "???? ID:", 1234, 0);
			initial.Print();
		}
		else if (st == 5678)
		{
			AVTO initial("??????", "???? ID:", 5678, 0);
			initial.Print();
		}
		else if (st == 9012)
		{
			AVTO initial("??????", "????? ID:", 9012, 0);
			initial.Print();
		}
		else
		{
			cout << "????????????? ?? ???????????????. ????????? ???????..." << endl;
		    goto lx;
		}
		cout << "??????? 0 ????? ??????????..." << endl;
		cin >> nx;
	}

main:
	cout << "?????????" << endl 
		<< "1.???? ?????" << endl 
		<< "2.???? ????????" << endl 
		<< "3." << endl
		<< "4." << endl 
		<< "5. " << endl
		<< "6.?????" << endl;
ent:
	cin >> numb;
	if (numb < 1 || numb > 6)
	{
		cout << "???????? ?????. ????????? ???????" << endl;
		goto ent;
	}

	switch (numb)
	{
	case 1:
		cout << "1.?????? ?????? ??????" << endl;
		cout << "2.??????? ?????? ?????" << endl;
	pat:
		cin >> page;
		if (page == 1)
		{
				a.Car();
				cout << "??????? 'Save' ??? ?????????? ??? 'Back' ??? ??????????? ? ???? ????????" << endl;
				string sv;
				cin >> sv;
				if (sv == "Save")
				{
					a.scars();
					cout << "??????? ????????." << endl;
					system("pause");
				}
				else if (sv == "Back")
				{
					goto paf;
					cout << "???????????..." << endl;
					system("pause");
				}
		}
		else if(page == 2)
		{
			a.pcars();
		}
		else
		{
			cout << "?????? ?????? ?? ??????????. ????????? ???????....." << endl;
			goto pat;
		}
		goto main;
	case 2:
	paf:
		cout << "1.???????? ?????? ???????." << endl;
		cout << "2.????????? ???????." << endl;
		cout << "3.??????? ?????? ????????" << endl;
	par:
		cin >> page;
		if (page == 1)
		{
			string sv;
			a.Client();
			cout << "??????? 'Save' ??? ??????????, 'VIP' ??? ?????????? ? VIP ??????, 'Check' ??? ????????? ??????? ??? 'Back' ??? ??????????? ? ???? ????????" << endl;
			cin >> sv;
			if (sv == "Save")
			{
				++a;
				a.sclient();
				cout << "??????? ????????." << endl;
				system("pause");
			}
			else if (sv == "Back")
			{
				goto paf;
				cout << "???????????..." << endl;
				system("pause");
			}
			else if (sv == "VIP")
			{
				AVTO copy(a);
				cout << "??????? ???????? ? VIP ??????." << endl;
				system("pause");
			}
			else if (sv == "Check")
			{
				int b, m;
				cout << "1.????????? ???????? ?? ?????? \n2.????? ??????" << endl;
				cin >> b;
				if (b == 1)
				{
					cout << "??????? ????? ??????? ????? ?????????: " << endl;
					cin >> m;
					AVTO a1 = a + m;
					a1.Prints();
					a1.sclient();
					system("pause");
				}
				else if (b == 2)
				{
					cout << "??????? ????? ??????? ????? ?????: " << endl;
					cin >> m;
					AVTO a2 = a - m;
					a2.Prints();
					a2.sclient();
					system("pause");
				}
			}
		}
		else if (page == 2)
		{
			a.sclient();
		}
		else if (page == 3)
		{
			b.pclient();
		}
		else
		{
			cout << "?????? ?????? ?? ??????????. ????????? ???????" << endl;
			goto par;
		}
		goto main;
	case 3:
		
		goto main;
	case 4:
		
		goto main;
	case 5:
		
		goto main;
	case 6:
		cout << "????? ?? ?????????...." << endl;
		exit(0);
	default:
		break;
	}
	return 0;
}

